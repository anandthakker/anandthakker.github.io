extends layout

block append vars
  - bodyclass = 'home'
  - activeSection = 'home'

block content
  block about
    section.about
      != typogr(contents.about['index.md'].html).typogrify()
      nav
        include contact

block prepend main-container
  svg.geometry(viewbox="0 0 800 800", preserveAspectRatio="xMinYMin meet")

block append footer
  div.about-background.collapse
    a(href='#')
      br
      | Play with the geometry background!
    p
      | The moving background is a dynamic compass-and-ruler construction
      | for circumscribing an arbitrary triangle, generated from the
      | text below using
      a(href="/projects/euclid/")
        |  Euclid JS.
      |  You can mess around with the text and it'll change the figure.
    div.message
    textarea.code.geometry-text.
      [main-figure]
      Let a = (1, 500).
      Let b = (400, 400). # this is the point following the mouse.
      Let c = (-30, 1).
      Let s be a segment with endpoints a and b.
      Let t be a segment with endpoints b and c.
      Let u be a segment from a to c.

      [guides]
      Let k be a circle centered at a containing b.
      Let l be a circle centered at b containing a.
      Let m be the circle centered at b containing c.
      Let n be the circle centered at c containing b.
      d = the intersection of k and l
      e = the intersection of k and l that is not d
      f = the intersection of m and n
      g = the intersection of m and n that is not f

      [perpendicular-bisectors]
      Let v be the line determined by d and e
      Let w be the line determined by f and g

      [result]
      Let O be the intersection of v and w
      Draw the circle centered at O containing a.

block append scripts
  script(src="http://d3js.org/d3.v3.min.js", charset="utf-8")
  script(src="/js/geometry.js")
  script(src="/js/geometry-background.js")
